(this["webpackJsonpcandy-crush-react"]=this["webpackJsonpcandy-crush-react"]||[]).push([[0],[,,,,,,,,,function(e,n,t){e.exports=t(17)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(7),c=t.n(o),i=(t(14),t(1)),s=t(2),l=t(5),u=t(4),d=(t(15),t(8)),h=t(3),y=(t(16),function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=n.call(this)).candyTypes=[{candyColor:"red",icon:"r"},{candyColor:"green",icon:"g"},{candyColor:"blue",icon:"b"},{candyColor:"yellow",icon:"y"}],e.state={candyTypes:e.candyTypes,grid:e.createGrid()},e.leftClick=e.leftClick.bind(Object(h.a)(e)),e}return Object(s.a)(t,[{key:"createGrid",value:function(){var e=this;return Array.from(Array(10),(function(){return Array.from(Array(10),(function(){return Object.assign({},e.createCell())}))}))}},{key:"createCell",value:function(){return Object.assign({},this.candyTypes[Math.floor(3*Math.random())])}},{key:"leftClick",value:function(e,n){var t=this,a=this.state.grid,r=this.findConnectedCandies(a,e,n);this.checkCanBurst(r)?(a=this.burstCandies(a,r),this.props.onBurstCandies(r.length)):console.log("Cant burst"),a=this.slideCandyDown(a),this.setState({grid:a}),setTimeout((function(){a=t.addMoreCandies(a),t.setState({grid:a})}),2e3)}},{key:"findConnectedCandies",value:function(e,n,t){var a=[];a.push([n,t]);for(var r=0;r<a.length;){var o=(a=a.concat(this.findConnectedCandyCells(e,e[n][t],a[r][0],a[r][1]))).map(JSON.stringify),c=new Set(o);a=Array.from(c,JSON.parse),r++}return a}},{key:"checkCanBurst",value:function(e){for(var n=0,t=0,a=0,r={},o={};t<=2&&a<=2&&n<e.length;)e[n][0]in r?(r[e[n][0]]+=1,t=Math.max(t,r[e[n][0]])):r[e[n][0]]=1,e[n][1]in o?(o[e[n][1]]+=1,a=Math.max(a,o[e[n][1]])):o[e[n][1]]=1,n++;return t>2||a>2}},{key:"burstCandies",value:function(e,n){var t,a=Object(d.a)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;e[r[0]][r[1]]={}}}catch(o){a.e(o)}finally{a.f()}return e}},{key:"findConnectedCandyCells",value:function(e,n,t,a){var r,o,c=[];return o=a,(r=t)-1>=0&&e[r-1][o].candyColor===n.candyColor&&c.push([r-1,o]),r+1<e.length&&e[r+1][o].candyColor===n.candyColor&&c.push([r+1,o]),o-1>=0&&e[r][o-1].candyColor===n.candyColor&&c.push([r,o-1]),o+1<e.length&&e[r][o+1].candyColor===n.candyColor&&c.push([r,o+1]),c}},{key:"slideCandyDown",value:function(e){for(var n=0;n<e.length;n++)for(var t=e.length-1;t>=0;t--){if(!("candyColor"in e[t][n])){for(var a=t;a>-1&&!("candyColor"in e[a][n]);)a--;a>-1&&(e[t][n]=Object.assign({},e[a][n]),e[a][n]={})}}return e}},{key:"addMoreCandies",value:function(e){for(var n=0;n<e.length;n++)for(var t=e.length-1;t>=0;t--)e[t][n].candyColor||(e[t][n]=Object.assign({},this.createCell()));return e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"grid"},this.state.grid.map((function(n,t){return r.a.createElement("div",{className:"row",key:t},n.map((function(n,a){var o;n.icon&&(o=r.a.createElement("span",null,t,",",a,",",n.icon));var c=["cell",n.candyColor];return c=c.join(" "),r.a.createElement("div",{className:c,key:a,onClick:e.leftClick.bind(e,t,a)},o)})))})))}}]),t}(a.Component)),f=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=n.call(this)).state={score:0},e}return Object(s.a)(t,[{key:"updateScore",value:function(e){this.setState({score:this.state.score+e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Score: ",this.state.score),r.a.createElement(y,{onBurstCandies:this.updateScore.bind(this)}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.598a2161.chunk.js.map